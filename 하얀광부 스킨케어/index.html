<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•˜ì–€ê´‘ë¶€ | ë°”ìš°ë§Œ í”¼ë¶€íƒ€ì… ì •ë°€ ì§„ë‹¨</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.1/kakao.min.js" integrity="sha384-kDljxUXh0CxNWpD4rl+9HuG29l+59U5BWfXPKCQ3JlF8w3yo+xtls016Bs5msXmt" crossorigin="anonymous"></script>
    <style>
        /* [í•˜ì–€ê´‘ë¶€ ë””ìì¸ ì‹œìŠ¤í…œ] */
        :root {
            --bg-color: #FAFAFA;
            --card-bg: #FFFFFF;
            --text-main: #1A1A1A;
            --text-sub: #666666;
            --gold-main: #D4AF37;
            --gold-light: #F4E8C1;
            --alert-red: #E74C3C;
            --btn-hover: #C5A028;
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
            
            /* ìœ¡ê°ì°¨íŠ¸ ìƒ‰ìƒ */
            --chart-oil: #FFB74D;
            --chart-hydration: #4FC3F7;
            --chart-sensitive: #F48FB1;
            --chart-pigment: #BA68C8;
            --chart-elastic: #81C784;
            --chart-barrier: #90A4AE;
        }

        * { box-sizing: border-box; font-family: 'Pretendard', -apple-system, sans-serif; margin: 0; padding: 0; }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .app-container {
            width: 100%;
            max-width: 480px;
            background: var(--card-bg);
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 30px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }

        /* í—¤ë” */
        header {
            padding: 16px 20px;
            text-align: center;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            background: rgba(255,255,255,0.98);
            z-index: 10;
        }

        .logo { font-weight: 900; font-size: 1.2rem; color: var(--text-main); }
        .logo span { color: var(--gold-main); }

        .progress-container {
            height: 4px;
            background: #eee;
            width: 100%;
            position: absolute;
            bottom: 0;
            left: 0;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-main), #F0D878);
            width: 0%;
            transition: width 0.4s ease;
        }

        /* í™”ë©´ ì „í™˜ */
        .screen {
            display: none;
            padding: 24px 20px;
            flex: 1;
            flex-direction: column;
            animation: fadeIn 0.4s ease-out;
        }
        .screen.active { display: flex; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ========== ì¸íŠ¸ë¡œ í™”ë©´ ========== */
        .intro-hero {
            text-align: center;
            padding: 20px 0;
        }

        .stickman-container {
            width: 160px;
            height: 160px;
            margin: 0 auto 25px;
            background: linear-gradient(135deg, #FFF9E6 0%, #FFF5D6 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.2);
            position: relative;
            overflow: hidden;
        }

        .character-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .intro-badge {
            display: inline-block;
            background: var(--gold-light);
            color: #8A6D1F;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .intro-title {
            font-size: 1.8rem;
            font-weight: 800;
            line-height: 1.4;
            margin-bottom: 20px;
            color: var(--text-main);
        }
        .intro-title .highlight {
            color: var(--alert-red);
            position: relative;
        }

        .intro-desc {
            background: #FFFBF0;
            border-left: 4px solid var(--gold-main);
            padding: 18px;
            margin: 20px 0;
            border-radius: 0 12px 12px 0;
        }
        .intro-desc p {
            color: var(--text-sub);
            line-height: 1.7;
            font-size: 0.95rem;
            margin-bottom: 12px;
        }
        .intro-desc p:last-child { margin-bottom: 0; }

        .symptom-checklist {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 18px;
            margin: 20px 0;
        }
        .symptom-checklist h4 {
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-bottom: 12px;
        }
        .symptom-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            font-size: 0.95rem;
            color: var(--text-main);
        }
        .symptom-item .check {
            color: var(--alert-red);
            font-weight: bold;
        }

        .quiz-info {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 25px 0;
            font-size: 0.85rem;
            color: var(--text-sub);
        }
        .quiz-info span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .start-btn {
            background: var(--text-main);
            color: #fff;
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 14px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: auto;
            transition: all 0.2s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }
        .start-btn:hover { background: #333; transform: translateY(-2px); }
        .start-btn:active { transform: scale(0.98); }

        /* ========== ì§ˆë¬¸ í™”ë©´ ========== */
        .step-badge {
            display: inline-block;
            background: var(--gold-light);
            color: #8A6D1F;
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .question-number {
            font-size: 0.85rem;
            color: var(--text-sub);
            margin-bottom: 8px;
        }

        .question-text {
            font-size: 1.35rem;
            font-weight: 700;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .option-btn {
            background: #fff;
            border: 2px solid #eee;
            color: var(--text-main);
            padding: 16px 18px;
            border-radius: 12px;
            width: 100%;
            text-align: left;
            margin-bottom: 12px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option-btn:hover {
            border-color: var(--gold-main);
            background: #FFFCF2;
            transform: translateX(5px);
        }
        .option-btn:active {
            transform: scale(0.98);
        }

        /* ========== ê²°ê³¼ í™”ë©´ ========== */
        #captureArea {
            background: var(--card-bg);
            padding: 10px;
        }

        .result-header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 1px dashed #eee;
            margin-bottom: 25px;
        }

        .result-img-container {
            width: 120px;
            height: 120px;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #FFF9E6 0%, #FFF5D6 100%);
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(212, 175, 55, 0.2);
        }

        .result-label {
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-bottom: 8px;
        }

        .result-code {
            font-size: 3.2rem;
            font-weight: 900;
            color: var(--gold-main);
            letter-spacing: 4px;
            margin: 10px 0;
        }

        .result-korean {
            font-size: 1rem;
            color: var(--text-sub);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .result-name {
            font-size: 1.6rem;
            font-weight: 800;
            color: var(--text-main);
        }

        .result-simple-desc {
            font-size: 0.95rem;
            color: var(--text-sub);
            margin-top: 8px;
            line-height: 1.5;
        }

        /* ìœ¡ê°í˜• ë ˆì´ë” ì°¨íŠ¸ */
        .chart-section {
            background: #f9f9f9;
            border-radius: 16px;
            padding: 25px 20px;
            margin-bottom: 20px;
        }

        .chart-title {
            font-size: 1rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .radar-chart-container {
            width: 100%;
            max-width: 280px;
            margin: 0 auto;
        }

        .radar-chart {
            width: 100%;
            height: auto;
        }

        /* ì§€í‘œ ì„¤ëª… ì¹´ë“œë“¤ */
        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 20px;
        }

        .metric-card {
            background: #fff;
            border-radius: 12px;
            padding: 14px;
            border-left: 4px solid;
        }

        .metric-card.oil { border-color: var(--chart-oil); }
        .metric-card.hydration { border-color: var(--chart-hydration); }
        .metric-card.sensitive { border-color: var(--chart-sensitive); }
        .metric-card.pigment { border-color: var(--chart-pigment); }
        .metric-card.elastic { border-color: var(--chart-elastic); }
        .metric-card.barrier { border-color: var(--chart-barrier); }

        .metric-name {
            font-size: 0.8rem;
            color: var(--text-sub);
            margin-bottom: 4px;
        }

        .metric-score {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 6px;
        }

        .metric-status {
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 10px;
            display: inline-block;
            margin-bottom: 8px;
        }
        .metric-status.high { background: #FFEBEE; color: #C62828; }
        .metric-status.medium { background: #FFF8E1; color: #F57F17; }
        .metric-status.low { background: #E8F5E9; color: #2E7D32; }
        .metric-status.good { background: #E3F2FD; color: #1565C0; }

        .metric-tip {
            font-size: 0.78rem;
            color: #555;
            line-height: 1.4;
        }

        /* ìƒì„¸ ë¶„ì„ ì¹´ë“œ */
        .result-card {
            background: #fff;
            border-radius: 14px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #eee;
        }

        .card-title {
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
        }

        .card-desc {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #444;
        }

        .prescription-card {
            background: linear-gradient(135deg, #FFFDF5 0%, #FFF9E6 100%);
            border: 2px solid var(--gold-main);
        }
        .prescription-card .card-title { color: var(--gold-main); }

        /* ì¶”ì²œ ì„±ë¶„ íƒœê·¸ */
        .ingredient-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }
        .ingredient-tag {
            background: #fff;
            border: 1px solid var(--gold-main);
            color: #8A6D1F;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* í”¼í•´ì•¼ í•  ê²ƒ */
        .avoid-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }
        .avoid-tag {
            background: #FFEBEE;
            color: #C62828;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* CTA ë²„íŠ¼ */
        .shop-section {
            margin-top: 25px;
            text-align: center;
            background: linear-gradient(135deg, #FFF5F5 0%, #FFEBEB 100%);
            border-radius: 16px;
            padding: 25px 20px;
            border: 1px solid #FFCDD2;
        }

        .shop-label {
            font-weight: 700;
            margin-bottom: 8px;
            font-size: 1rem;
            color: var(--text-main);
        }

        .shop-sub-label {
            font-size: 0.85rem;
            color: var(--text-sub);
            margin-bottom: 15px;
        }

        .shop-link-btn {
            display: block;
            background: linear-gradient(135deg, var(--alert-red) 0%, #D32F2F 100%);
            color: #fff;
            text-decoration: none;
            text-align: center;
            padding: 18px;
            border-radius: 14px;
            font-weight: 700;
            font-size: 1.05rem;
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.35);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .shop-benefit {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 12px;
            font-size: 0.8rem;
            color: var(--text-sub);
        }

        .retry-btn {
            background: #f5f5f5;
            border: none;
            color: var(--text-main);
            padding: 16px;
            border-radius: 12px;
            width: 100%;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
        }
        .retry-btn:hover { background: #eee; }

        /* í‘¸í„° ìˆ˜ì •: ê¸€ììƒ‰ ê²€ì • */
        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.85rem;
            color: #000000;
            padding: 20px;
            border-top: 1px solid #eee;
            font-weight: 500;
        }
        .footer a {
            color: #000000;
            text-decoration: none;
            font-weight: 700;
        }

        /* ê³µìœ  ë²„íŠ¼ ì˜ì—­ */
        .share-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        
        .save-img-btn {
            grid-column: 1 / -1;
            padding: 14px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .save-img-btn:hover { background: #000; }

        .share-btn {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #fff;
            font-size: 0.85rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            color: #333;
            text-decoration: none;
        }
        .share-btn:hover { background: #f9f9f9; }
        
        /* ì¸ìŠ¤íƒ€ê·¸ë¨ ë²„íŠ¼ ì „ìš© ìŠ¤íƒ€ì¼ */
        .share-btn.insta {
            border-color: #E1306C;
            color: #E1306C;
            font-weight: 600;
        }
    </style>
</head>
<body>

<div class="app-container">
    <header>
        <div class="logo">í•˜ì–€<span>ê´‘ë¶€</span></div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
    </header>

    <div id="introScreen" class="screen active">
        <div class="intro-hero">
            <div class="stickman-container">
                <img src="./2.png" alt="í•˜ì–€ê´‘ë¶€ ìºë¦­í„°" class="character-img">
            </div>

            <span class="intro-badge">ğŸ”¬ ë°”ìš°ë§Œ í”¼ë¶€íƒ€ì… ì§„ë‹¨</span>
            
            <h1 class="intro-title">
                ë‹¹ì‹ ì˜ í”¼ë¶€,<br>
                ì§€ê¸ˆ <span class="highlight">ë¬´ë„ˆì§€ê³ </span> ìˆì§„ ì•Šë‚˜ìš”?
            </h1>
        </div>

        <div class="intro-desc">
            <p>í”¼ë¶€ë„ ê´‘ì‚°ì²˜ëŸ¼ <b>ê´€ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ë¬´ë„ˆì§‘ë‹ˆë‹¤.</b></p>
            <p>í•˜ì–€ê´‘ë¶€ê°€ ë‹¹ì‹ ì˜ í”¼ë¶€ ìƒíƒœë¥¼ ê¼¼ê¼¼íˆ ë¶„ì„í•˜ê³ ,<br>
            <b style="color:var(--gold-main);">ë”± ë§ëŠ” í•´ê²°ì±…</b>ì„ ì°¾ì•„ë“œë¦´ê²Œìš”.</p>
        </div>

        <div class="symptom-checklist">
            <h4>âš ï¸ ì´ëŸ° ì¦ìƒì´ ìˆë‹¤ë©´ ê¼­ ì§„ë‹¨ë°›ìœ¼ì„¸ìš”</h4>
            <div class="symptom-item"><span class="check">âœ“</span> ê°‘ìê¸° íŠ¸ëŸ¬ë¸”ì´ ëŠ˜ì—ˆë‹¤</div>
            <div class="symptom-item"><span class="check">âœ“</span> ë°”ë¥´ëŠ” ê²Œ ë‹¤ ë”°ê°‘ë‹¤</div>
            <div class="symptom-item"><span class="check">âœ“</span> ëŠ˜ ì“°ë˜ ì œí’ˆë„ ì•ˆ ë§ëŠ”ë‹¤</div>
            <div class="symptom-item"><span class="check">âœ“</span> í”¼ë¶€ê°€ í‘¸ì„í•˜ê³  ì¹™ì¹™í•˜ë‹¤</div>
        </div>

        <div class="quiz-info">
            <span>â±ï¸ ì•½ 3-5ë¶„</span>
            <span>ğŸ“‹ 24ë¬¸í•­</span>
            <span>ğŸ¯ 16íƒ€ì… ë¶„ë¥˜</span>
        </div>

        <button class="start-btn" onclick="startDiagnosis()">
            ë‚´ í”¼ë¶€ íƒ€ì… ì§„ë‹¨í•˜ê¸° â†’
        </button>
    </div>

    <div id="quizScreen" class="screen">
        <div class="step-badge" id="stepBadge">STEP 1. ìœ ë¶„ë„ ì²´í¬</div>
        <div class="question-number" id="questionNumber">Q1 / 24</div>
        <div class="question-text" id="questionText">ì§ˆë¬¸ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
        <div id="optionsArea"></div>
    </div>

    <div id="resultScreen" class="screen">
        <div id="captureArea">
            <div class="result-header">
                <div class="result-img-container">
                    <img src="./1.png" alt="ì§„ë‹¨ ì™„ë£Œ" class="character-img">
                </div>

                <p class="result-label">ë‹¹ì‹ ì˜ ë°”ìš°ë§Œ í”¼ë¶€íƒ€ì…</p>
                <div class="result-code" id="resultCode">OSPT</div>
                <div class="result-korean" id="resultKorean">ì§€ì„± + ë¯¼ê° + ì¡í‹° + íƒ„ë ¥â—</div>
                <div class="result-name" id="resultName">"íŠ¸ëŸ¬ë¸” ë§ì€ ë¯¼ê° ì§€ì„± í”¼ë¶€"</div>
                <p class="result-simple-desc" id="resultSimpleDesc">í”¼ì§€ ì¡°ì ˆê³¼ ì§„ì • ì¼€ì–´ê°€ ë™ì‹œì— í•„ìš”í•œ í”¼ë¶€ì˜ˆìš”</p>
            </div>

            <div class="chart-section">
                <div class="chart-title">ğŸ“Š ë‚´ í”¼ë¶€ ë°¸ëŸ°ìŠ¤</div>
                <div class="radar-chart-container">
                    <svg class="radar-chart" id="radarChart" viewBox="0 0 300 260"></svg>
                </div>

                <div class="metrics-grid" id="metricsGrid">
                </div>
            </div>

            <div class="result-card">
                <div class="card-title">ğŸ” ë‚´ í”¼ë¶€ ìƒíƒœëŠ”?</div>
                <div class="card-desc" id="resultDesc">ë¶„ì„ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
            </div>

            <div class="result-card">
                <div class="card-title">ğŸš« ì´ê±´ í”¼í•˜ì„¸ìš”</div>
                <div class="avoid-tags" id="avoidTags">
                </div>
            </div>

            <div class="result-card prescription-card">
                <div class="card-title">ğŸ’ í•˜ì–€ê´‘ë¶€ì˜ ì²˜ë°©</div>
                <div class="card-desc" id="resultCare">ì¼€ì–´ íŒì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
                <div class="ingredient-tags" id="ingredientTags">
                </div>
            </div>
        </div>
        <div class="shop-section">
            <p class="shop-label">ğŸ ë‚´ í”¼ë¶€íƒ€ì… ì „ìš© ì œí’ˆ ì¶”ì²œ</p>
            <p class="shop-sub-label">í”¼ë¶€ìƒµ ì „ë¬¸ ë¸Œëœë“œ ì œí’ˆì„ í•©ë¦¬ì ì¸ ê°€ê²©ì—</p>
            <a href="#" id="shopLink" target="_blank" class="shop-link-btn">
                ë§ì¶¤ ì œí’ˆ ë³´ëŸ¬ê°€ê¸° â†’
            </a>
            <div class="shop-benefit">
                <span>âœ“ ë¬´ë£Œë°°ì†¡</span>
                <span>âœ“ í”¼ë¶€ìƒµ ì „ë¬¸ ì œí’ˆ</span>
                <span>âœ“ ìƒ˜í”Œ ì¦ì •</span>
            </div>
        </div>

        <div class="share-section">
            <button class="save-img-btn" onclick="saveAsImage()">
                ğŸ–¼ï¸ ì§„ë‹¨ ê²°ê³¼ ì´ë¯¸ì§€ë¡œ ì €ì¥
            </button>
            <button class="share-btn" onclick="copyResultDetails()">
                ğŸ“‹ í…ìŠ¤íŠ¸ ìƒì„¸ ë³µì‚¬
            </button>
            <a href="https://instagram.com/whiteminer_skincare" target="_blank" class="share-btn insta">
                ğŸ“¸ ì¸ìŠ¤íƒ€ê·¸ë¨ êµ¬ê²½ê°€ê¸°
            </a>
        </div>

        <button class="retry-btn" onclick="location.reload()">ğŸ”„ ë‹¤ì‹œ ì§„ë‹¨í•˜ê¸°</button>

        <div class="footer">
            í•˜ì–€ê´‘ë¶€ ìŠ¤í‚¨ì¼€ì–´<br>
            <a href="https://instagram.com/whiteminer_skincare" target="_blank">Instagram @whiteminer_skincare</a>
        </div>
    </div>
</div>

<script>
    // ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” (ì‚¬ìš©ìê°€ í‚¤ë¥¼ ë„£ìœ¼ë©´ ì‘ë™, ì•ˆ ë„£ìœ¼ë©´ ë¬´ì‹œ)
    try { Kakao.init('ì—¬ê¸°ì—_ì¹´ì¹´ì˜¤_ìë°”ìŠ¤í¬ë¦½íŠ¸_í‚¤_ì…ë ¥'); } catch(e) {}

    // =============================================
    // [ë°ì´í„°ë² ì´ìŠ¤]
    // =============================================
    
    const steps = [
        { name: "STEP 1. ìœ ë¶„ ì²´í¬", count: 6 },
        { name: "STEP 2. ë¯¼ê°ë„ ì²´í¬", count: 8 },
        { name: "STEP 3. ì¡í‹° ì²´í¬", count: 5 },
        { name: "STEP 4. íƒ„ë ¥ ì²´í¬", count: 5 }
    ];

    const questions = [
        // STEP 1: O vs D (6ë¬¸í•­)
        { q: "ì„¸ì•ˆ í›„ ì•„ë¬´ê²ƒë„ ì•ˆ ë°”ë¥´ê³  2ì‹œê°„ ë’¤, ì–¼êµ´ ìƒíƒœëŠ”?", a: [{t:"ì´ë§ˆì™€ ì½”ê°€ ë²ˆë“¤ê±°ë ¤ìš”", s:4}, {t:"Tì¡´ë§Œ ì•½ê°„ ê¸°ë¦„ì ¸ìš”", s:3}, {t:"íŠ¹ë³„í•œ ë³€í™” ì—†ì–´ìš”", s:2}, {t:"ë‹¹ê¸°ê³  ê±´ì¡°í•´ìš”", s:1}] },
        { q: "ì•„ì¹¨ì— ì¼ì–´ë‚˜ë©´ ë² ê°œì— ìœ ë¶„ì´ ë¬»ì–´ë‚˜ë‚˜ìš”?", a: [{t:"í•­ìƒ ë¬»ì–´ë‚˜ìš”", s:4}, {t:"ìì£¼ ë¬»ì–´ë‚˜ìš”", s:3}, {t:"ê°€ë” ë¬»ì–´ë‚˜ìš”", s:2}, {t:"ê±°ì˜ ì•ˆ ë¬»ì–´ë‚˜ìš”", s:1}] },
        { q: "í™”ì¥ í›„ ëª‡ ì‹œê°„ ë§Œì— ìœ ë¶„ì´ ì˜¬ë¼ì˜¤ë‚˜ìš”?", a: [{t:"1-2ì‹œê°„ ì´ë‚´", s:4}, {t:"3-4ì‹œê°„ ì •ë„", s:3}, {t:"5ì‹œê°„ ì´ìƒ", s:2}, {t:"ê±°ì˜ ì•ˆ ì˜¬ë¼ì™€ìš”", s:1}] },
        { q: "ì½”ì™€ ì´ë§ˆì˜ ëª¨ê³µì´ ëˆˆì— ì˜ ë³´ì´ë‚˜ìš”?", a: [{t:"ë§¤ìš° í¬ê³  ëšœë ·í•´ìš”", s:4}, {t:"ê½¤ ë³´ì´ëŠ” í¸ì´ì—ìš”", s:3}, {t:"ìì„¸íˆ ë´ì•¼ ë³´ì—¬ìš”", s:2}, {t:"ê±°ì˜ ì•ˆ ë³´ì—¬ìš”", s:1}] },
        { q: "ë¸”ë™í—¤ë“œë‚˜ í™”ì´íŠ¸í—¤ë“œê°€ ìˆë‚˜ìš”?", a: [{t:"ë§ì´ ìˆì–´ìš”", s:4}, {t:"ê½¤ ìˆëŠ” í¸ì´ì—ìš”", s:3}, {t:"ì•½ê°„ ìˆì–´ìš”", s:2}, {t:"ê±°ì˜ ì—†ì–´ìš”", s:1}] },
        { q: "í”¼ë¶€ì— ê°ì§ˆì´ ì¼ì–´ë‚˜ëŠ” ê²½ìš°ê°€ ìˆë‚˜ìš”?", a: [{t:"ì „í˜€ ì—†ì–´ìš”", s:4}, {t:"ê±°ì˜ ì—†ì–´ìš”", s:3}, {t:"ê°€ë” ìˆì–´ìš”", s:2}, {t:"ìì£¼ ìˆì–´ìš”", s:1}] },
        
        // STEP 2: S vs R (8ë¬¸í•­)
        { q: "ìƒˆë¡œìš´ í™”ì¥í’ˆì„ ì‚¬ìš©í•˜ë©´ í”¼ë¶€ ë°˜ì‘ì´ ìˆë‚˜ìš”?", a: [{t:"íŠ¸ëŸ¬ë¸”/ë¶‰ì–´ì§ì´ ìì£¼ ìƒê²¨ìš”", s:4}, {t:"ì¢…ì¢… ë°˜ì‘ì´ ìˆì–´ìš”", s:3}, {t:"ê°€ë” ë°˜ì‘ì´ ìˆì–´ìš”", s:2}, {t:"ì–´ë–¤ ì œí’ˆì´ë“  ê´œì°®ì•„ìš”", s:1}] },
        { q: "ì—¬ë“œë¦„ì´ë‚˜ ë¾°ë£¨ì§€ê°€ ì–¼ë§ˆë‚˜ ìì£¼ ìƒê¸°ë‚˜ìš”?", a: [{t:"í•­ìƒ ìˆì–´ìš”", s:4}, {t:"ìì£¼ ìƒê²¨ìš”", s:3}, {t:"ê°€ë” ìƒê²¨ìš”", s:2}, {t:"ê±°ì˜ ì•ˆ ìƒê²¨ìš”", s:1}] },
        { q: "ì–¼êµ´ì´ ì‰½ê²Œ ë¶‰ì–´ì§€ë‚˜ìš”? (ìš´ë™, ìŒì£¼, ì˜¨ë„ë³€í™” ì‹œ)", a: [{t:"ë§¤ìš° ì‰½ê²Œ ë¶‰ì–´ì ¸ìš”", s:4}, {t:"ìì£¼ ë¶‰ì–´ì ¸ìš”", s:3}, {t:"ê°€ë” ë¶‰ì–´ì ¸ìš”", s:2}, {t:"ê±°ì˜ ì•ˆ ë¶‰ì–´ì ¸ìš”", s:1}] },
        { q: "í”¼ë¶€ê°€ ë”°ë”ê±°ë¦¬ê±°ë‚˜ í™”ëˆê±°ë¦° ì ì´ ìˆë‚˜ìš”?", a: [{t:"ìì£¼ ìˆì–´ìš”", s:4}, {t:"ì¢…ì¢… ìˆì–´ìš”", s:3}, {t:"ê°€ë” ìˆì–´ìš”", s:2}, {t:"ì—†ì–´ìš”", s:1}] },
        { q: "í”¼ë¶€ê³¼ì—ì„œ ì§„ë‹¨ë°›ì€ ì  ìˆë‚˜ìš”? (ì—¬ë“œë¦„/ì•„í† í”¼/ë¡œì‚¬ì‹œì•„ ë“±)", a: [{t:"2ê°œ ì´ìƒ ì§„ë‹¨ë°›ì•˜ì–´ìš”", s:4}, {t:"1ê°œ ì§„ë‹¨ë°›ì•˜ì–´ìš”", s:3}, {t:"ì˜ì‹¬ ì¦ìƒë§Œ ìˆì–´ìš”", s:2}, {t:"ì—†ì–´ìš”", s:1}] },
        { q: "ê°€ì¡± ì¤‘ì— ë¯¼ê°ì„± í”¼ë¶€ë‚˜ ì•Œë ˆë¥´ê¸°ê°€ ìˆë‚˜ìš”?", a: [{t:"ì§ê³„ê°€ì¡± ì—¬ëŸ¬ ëª…", s:4}, {t:"ì§ê³„ê°€ì¡± 1ëª…", s:3}, {t:"ì¹œì²™ ì¤‘ì— ìˆì–´ìš”", s:2}, {t:"ì—†ì–´ìš”", s:1}] },
        { q: "í™˜ì ˆê¸°ì— í”¼ë¶€ íŠ¸ëŸ¬ë¸”ì´ ì‹¬í•´ì§€ë‚˜ìš”?", a: [{t:"ë§¤ìš° ì‹¬í•´ì ¸ìš”", s:4}, {t:"ê½¤ ì‹¬í•´ì ¸ìš”", s:3}, {t:"ì•½ê°„ ì˜í–¥ ìˆì–´ìš”", s:2}, {t:"ì˜í–¥ ì—†ì–´ìš”", s:1}] },
        { q: "í”¼ë¶€ì— ê°€ë ¤ì›€ì¦ì´ ìˆë‚˜ìš”?", a: [{t:"ìì£¼ ê°€ë ¤ì›Œìš”", s:4}, {t:"ì¢…ì¢… ê°€ë ¤ì›Œìš”", s:3}, {t:"ê°€ë” ê°€ë ¤ì›Œìš”", s:2}, {t:"ì•ˆ ê°€ë ¤ì›Œìš”", s:1}] },

        // STEP 3: P vs N (5ë¬¸í•­)
        { q: "ê¸°ë¯¸, ì£¼ê·¼ê¹¨, ì¡í‹°ê°€ ìˆë‚˜ìš”?", a: [{t:"ë§ì´ ìˆì–´ìš”", s:4}, {t:"ê½¤ ìˆì–´ìš”", s:3}, {t:"ì•½ê°„ ìˆì–´ìš”", s:2}, {t:"ê±°ì˜ ì—†ì–´ìš”", s:1}] },
        { q: "ì—¬ë“œë¦„/ìƒì²˜ê°€ ë‚˜ì€ í›„ ìêµ­ì´ ì–¼ë§ˆë‚˜ ì˜¤ë˜ ë‚¨ë‚˜ìš”?", a: [{t:"6ê°œì›” ì´ìƒ", s:4}, {t:"3-6ê°œì›”", s:3}, {t:"1-3ê°œì›”", s:2}, {t:"ê±°ì˜ ì•ˆ ë‚¨ì•„ìš”", s:1}] },
        { q: "í–‡ë³•ì— ë…¸ì¶œë˜ë©´ í”¼ë¶€ê°€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?", a: [{t:"ì‰½ê²Œ ê²€ê²Œ ê·¸ì„ë ¤ìš”", s:4}, {t:"ë¶‰ì–´ì¡Œë‹¤ê°€ ê·¸ì„ë ¤ìš”", s:3}, {t:"ë¶‰ì–´ì¡Œë‹¤ ì›ë˜ëŒ€ë¡œ ì™€ìš”", s:2}, {t:"íƒ€ê±°ë‚˜ ë²—ê²¨ì ¸ìš”", s:1}] },
        { q: "ë¶€ëª¨ë‹˜ ì¤‘ì— ê¸°ë¯¸ë‚˜ ì£¼ê·¼ê¹¨ê°€ ìˆë‚˜ìš”?", a: [{t:"ë‘ ë¶„ ë‹¤ ìˆì–´ìš”", s:4}, {t:"í•œ ë¶„ë§Œ ìˆì–´ìš”", s:3}, {t:"ì•½ê°„ë§Œ ìˆì–´ìš”", s:2}, {t:"ì—†ì–´ìš”", s:1}] },
        { q: "í˜¸ë¥´ëª¬ ë³€í™” ì‹œ ìƒ‰ì†Œ ë³€í™”ê°€ ìˆì—ˆë‚˜ìš”? (ì„ì‹ /í”¼ì„ì•½ ë“±)", a: [{t:"ëšœë ·í•œ ë³€í™”ê°€ ìˆì—ˆì–´ìš”", s:4}, {t:"ì•½ê°„ ë³€í™”ê°€ ìˆì—ˆì–´ìš”", s:3}, {t:"ì˜ ëª¨ë¥´ê² ì–´ìš”", s:2}, {t:"ì—†ì—ˆì–´ìš”/í•´ë‹¹ì—†ìŒ", s:1}] },

        // STEP 4: W vs T (5ë¬¸í•­)
        { q: "ì´ë§ˆ, ëˆˆê°€, ë¯¸ê°„ì— ì£¼ë¦„ì´ ìˆë‚˜ìš”?", a: [{t:"ëšœë ·í•œ ì£¼ë¦„ì´ ìˆì–´ìš”", s:4}, {t:"ì”ì£¼ë¦„ì´ ë³´ì—¬ìš”", s:3}, {t:"í‘œì • ì§€ì„ ë•Œë§Œ ë³´ì—¬ìš”", s:2}, {t:"ì£¼ë¦„ì´ ì—†ì–´ìš”", s:1}] },
        { q: "ì£¼ë³€ì—ì„œ ëª‡ ì‚´ë¡œ ë³´ì¸ë‹¤ê³  í•˜ë‚˜ìš”?", a: [{t:"ë‚˜ì´ë³´ë‹¤ ë§ì•„ ë³´ì¸ëŒ€ìš”", s:4}, {t:"ë‚˜ì´ëŒ€ë¡œ ë³´ì¸ëŒ€ìš”", s:3}, {t:"ì¡°ê¸ˆ ì–´ë ¤ ë³´ì¸ëŒ€ìš”", s:2}, {t:"ë§ì´ ì–´ë ¤ ë³´ì¸ëŒ€ìš”", s:1}] },
        { q: "ìì™¸ì„  ì°¨ë‹¨ì œë¥¼ ì–¼ë§ˆë‚˜ ê¾¸ì¤€íˆ ì‚¬ìš©í–ˆë‚˜ìš”?", a: [{t:"ê±°ì˜ ì•ˆ ì¼ì–´ìš”", s:4}, {t:"ê°€ë” ì¼ì–´ìš”", s:3}, {t:"ìì£¼ ì¼ì–´ìš”", s:2}, {t:"ë§¤ì¼ ê¾¸ì¤€íˆ ì¼ì–´ìš”", s:1}] },
        { q: "í¡ì—° ê²½í—˜ì´ ìˆë‚˜ìš”?", a: [{t:"í˜„ì¬ 10ë…„ ì´ìƒ í¡ì—°", s:4}, {t:"í˜„ì¬ í¡ì—°/ê³¼ê±° ì¥ê¸°í¡ì—°", s:3}, {t:"ê³¼ê±° ë‹¨ê¸° í¡ì—°", s:2}, {t:"ë¹„í¡ì—°", s:1}] },
        { q: "ë¶€ëª¨ë‹˜ì´ ì‹¤ì œ ë‚˜ì´ë³´ë‹¤ ì Šì–´ ë³´ì´ì‹œë‚˜ìš”?", a: [{t:"ë‚˜ì´ë³´ë‹¤ ë§ì•„ ë³´ì—¬ìš”", s:4}, {t:"ë‚˜ì´ëŒ€ë¡œ ë³´ì—¬ìš”", s:3}, {t:"ì Šì–´ ë³´ì—¬ìš”", s:2}, {t:"ë§ì´ ì Šì–´ ë³´ì—¬ìš”", s:1}] }
    ];

    // ê²°ê³¼ ë°ì´í„°
    const resultData = {
        "OSPT": {
            koreanCode: "ì§€ì„± + ë¯¼ê° + ì¡í‹° + íƒ„ë ¥â—",
            name: "íŠ¸ëŸ¬ë¸” ë§ì€ ë¯¼ê° ì§€ì„± í”¼ë¶€",
            simpleDesc: "í”¼ì§€ ì¡°ì ˆê³¼ ì§„ì • ì¼€ì–´ê°€ ë™ì‹œì— í•„ìš”í•œ í”¼ë¶€ì˜ˆìš”",
            desc: "í”¼ì§€ ë¶„ë¹„ê°€ ë§ìœ¼ë©´ì„œ í”¼ë¶€ ì¥ë²½ì´ ì•½í•´ íŠ¸ëŸ¬ë¸”ê³¼ ìƒ‰ì†Œì¹¨ì°©ì´ ë™ì‹œì— ìƒê¸°ê¸° ì‰¬ìš´ ìƒíƒœì…ë‹ˆë‹¤. ë‹¤í–‰íˆ íƒ„ë ¥ì€ ìœ ì§€ë˜ê³  ìˆì–´, ì§„ì •ê³¼ í”¼ì§€ ì¡°ì ˆì— ì§‘ì¤‘í•˜ë©´ ë¹ ë¥´ê²Œ ê°œì„ ë  ìˆ˜ ìˆì–´ìš”.",
            care: "ìê·¹ ì—†ì´ í”¼ì§€ë¥¼ ì¡°ì ˆí•˜ë©´ì„œ ì§„ì • ì¼€ì–´ë¥¼ ë³‘í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ê°ì§ˆ ì œê±°ëŠ” ìµœì†Œí™”í•˜ê³ , ìˆ˜ë¶„ ê³µê¸‰ì„ ì¶©ë¶„íˆ í•˜ë©´ì„œ ìœ ìˆ˜ë¶„ ë°¸ëŸ°ìŠ¤ë¥¼ ë§ì¶°ì£¼ì„¸ìš”.",
            avoid: ["ê³ ë†ë„ ì•Œì½”ì˜¬ í† ë„ˆ", "ê³¼ë„í•œ í´ë Œì§•", "ìê·¹ì ì¸ ìŠ¤í¬ëŸ½"],
            ingredients: ["ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ", "ì‚´ë¦¬ì‹¤ì‚°(BHA)", "ì„¼í…”ë¼", "í‹°íŠ¸ë¦¬"],
            linkType: "ACNE"
        },
        "OSNT": {
            koreanCode: "ì§€ì„± + ë¯¼ê° + ì¡í‹°Ã— + íƒ„ë ¥â—",
            name: "ì—¬ë“œë¦„ ì˜ ë‚˜ëŠ” ë¯¼ê° ì§€ì„± í”¼ë¶€",
            simpleDesc: "íŠ¸ëŸ¬ë¸”ë§Œ ì¡ìœ¼ë©´ ê±´ê°•í•´ì§€ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "í”¼ì§€ëŠ” ë§ì§€ë§Œ ì¡í‹° ê±±ì •ì€ ì ì€ íƒ€ì…ì…ë‹ˆë‹¤. í•œêµ­ ë‚¨ì„±ì—ê²Œ ê°€ì¥ í”í•œ í”¼ë¶€ íƒ€ì…ì´ì—ìš”. ì—¬ë“œë¦„ê³¼ ëª¨ê³µë§Œ ê´€ë¦¬í•˜ë©´ ë¹ ë¥´ê²Œ ì¢‹ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
            care: "ê°€ë²¼ìš´ ìˆ˜ë¶„ ì œí’ˆìœ¼ë¡œ ìœ ìˆ˜ë¶„ ë°¸ëŸ°ìŠ¤ë§Œ ë§ì¶°ë„ ì¢‹ì•„ì§‘ë‹ˆë‹¤. ë¬´ê±°ìš´ í¬ë¦¼ì€ í”¼í•˜ê³ , ìˆ˜ë¶„ ì ¤ì´ë‚˜ ë¡œì…˜ íƒ€ì…ì„ ì‚¬ìš©í•˜ì„¸ìš”.",
            avoid: ["ë¬´ê±°ìš´ í¬ë¦¼", "ê¸°ë¦„ì§„ ì œí’ˆ", "ìê·¹ì ì¸ í† ë„ˆ"],
            ingredients: ["í‹°íŠ¸ë¦¬", "ì‚´ë¦¬ì‹¤ì‚°", "ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ", "ë…¹ì°¨ì¶”ì¶œë¬¼"],
            linkType: "OILY"
        },
        "OSPW": {
            koreanCode: "ì§€ì„± + ë¯¼ê° + ì¡í‹° + íƒ„ë ¥â†“",
            name: "ë³µí•© ê³ ë¯¼ í”¼ë¶€",
            simpleDesc: "ì—¬ëŸ¬ ê³ ë¯¼ì„ ë‹¨ê³„ì ìœ¼ë¡œ ì¼€ì–´í•´ì•¼ í•˜ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "íŠ¸ëŸ¬ë¸”, ì¡í‹°, ì£¼ë¦„, ì˜ˆë¯¼í•¨ê¹Œì§€ ì—¬ëŸ¬ ê³ ë¯¼ì´ ê²¹ì³ ìˆì–´ìš”. í•œ ë²ˆì— ë‹¤ í•´ê²°í•˜ë ¤ í•˜ë©´ ì˜¤íˆë ¤ ì•…í™”ë  ìˆ˜ ìˆì–´ìš”. ì§„ì •ë¶€í„° ì°¨ê·¼ì°¨ê·¼ ì ‘ê·¼í•´ì•¼ í•©ë‹ˆë‹¤.",
            care: "ìê·¹ ì—†ì´ ì§„ì • â†’ ë¯¸ë°± â†’ ì£¼ë¦„ ì¼€ì–´ ìˆœì„œë¡œ í•˜ë‚˜ì”© ì ‘ê·¼í•˜ì„¸ìš”. ê°•í•œ ê¸°ëŠ¥ì„± ì œí’ˆì€ í”¼ë¶€ê°€ ì•ˆì •ëœ ë‹¤ìŒì— ì¨ì•¼ í•´ìš”.",
            avoid: ["ê°•í•œ í•„ë§", "ê³ ë†ë„ ë ˆí‹°ë†€ ë°”ë¡œ ì‚¬ìš©", "ì—¬ëŸ¬ ê¸°ëŠ¥ì„± ì œí’ˆ ë™ì‹œ ì‚¬ìš©"],
            ingredients: ["ì €ë†ë„ ë¹„íƒ€ë¯¼C", "ì•„ì ¤ë¼ìµì‚°", "í©íƒ€ì´ë“œ", "ì„¼í…”ë¼"],
            linkType: "ACNE"
        },
        "OSNW": {
            koreanCode: "ì§€ì„± + ë¯¼ê° + ì¡í‹°Ã— + íƒ„ë ¥â†“",
            name: "í™ì¡°ì„± ë¯¼ê° í”¼ë¶€",
            simpleDesc: "ë¶‰ì–´ì§ê³¼ íƒ„ë ¥ ê´€ë¦¬ê°€ í•„ìš”í•´ìš”",
            desc: "ì¡°ê¸ˆë§Œ ìê·¹ë°›ì•„ë„ ì–¼êµ´ì´ ì‰½ê²Œ ë¶‰ì–´ì§€ê³ , íƒ„ë ¥ë„ ë–¨ì–´ì§€ëŠ” ìƒíƒœì˜ˆìš”. ì—´ê°ì„ ì¤„ì´ê³  ì§„ì •ì‹œí‚¤ëŠ” ê²Œ ê°€ì¥ ì¤‘ìš”í•´ìš”.",
            care: "ì—´ê°ì„ ì¤„ì´ê³  íƒ„ë ¥ì„ ì±„ì›Œì£¼ì„¸ìš”. ëœ¨ê±°ìš´ í™˜ê²½, ë§¤ìš´ ìŒì‹, ìˆ ì€ í”¼í•˜ê³ , ì§„ì • ì„±ë¶„ì„ ê¾¸ì¤€íˆ ì¨ì£¼ì„¸ìš”.",
            avoid: ["ëœ¨ê±°ìš´ ëŠë‚Œ ì£¼ëŠ” ì„±ë¶„", "ì•Œì½”ì˜¬", "ê°•í•œ ê¸°ëŠ¥ì„± ì œí’ˆ"],
            ingredients: ["ì„¼í…”ë¼", "ì•„ì ¤ë¼ìµì‚°", "ë…¹ì°¨ì¶”ì¶œë¬¼", "íŒí…Œë†€"],
            linkType: "SENSITIVE"
        },
        "ORPT": {
            koreanCode: "ì§€ì„± + íŠ¼íŠ¼ + ì¡í‹° + íƒ„ë ¥â—",
            name: "íŠ¼íŠ¼í•œ ì¡í‹° í”¼ë¶€",
            simpleDesc: "ìƒ‰ì†Œì¹¨ì°© ê´€ë¦¬ë§Œ ì§‘ì¤‘í•˜ë©´ ë˜ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "í”¼ë¶€ëŠ” íŠ¼íŠ¼í•´ì„œ ì–´ë–¤ ì œí’ˆì„ ì¨ë„ íŠ¸ëŸ¬ë¸”ì´ ì˜ ì•ˆ ë‚˜ì§€ë§Œ, ì¡í‹°ê°€ ì˜ ë‚¨ëŠ” í¸ì´ì—ìš”. ë¯¸ë°± ê´€ë¦¬ì™€ ìì™¸ì„  ì°¨ë‹¨ì— ì§‘ì¤‘í•˜ì„¸ìš”.",
            care: "í”¼ë¶€ê°€ ê°•í•´ì„œ ì ê·¹ì ì¸ ë¯¸ë°± ì¼€ì–´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë¹„íƒ€ë¯¼C, ë ˆí‹°ë†€ ë“± ê°•í•œ ì„±ë¶„ë„ ì˜ ë°›ì•„ë“¤ì—¬ìš”. ìì™¸ì„  ì°¨ë‹¨ë§Œ ì² ì €íˆ í•˜ì„¸ìš”.",
            avoid: ["ìì™¸ì„  ë¬´ë°©ë¹„ ë…¸ì¶œ"],
            ingredients: ["ë¹„íƒ€ë¯¼C", "ì•Œë¶€í‹´", "ë ˆí‹°ë†€", "ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ"],
            linkType: "OILY"
        },
        "ORNT": {
            koreanCode: "ì§€ì„± + íŠ¼íŠ¼ + ì¡í‹°Ã— + íƒ„ë ¥â—",
            name: "ê±´ê°•í•œ ì§€ì„± í”¼ë¶€",
            simpleDesc: "í”¼ì§€ ì¡°ì ˆë§Œ í•˜ë©´ ì™„ë²½í•œ í”¼ë¶€ì˜ˆìš”! ğŸ‘",
            desc: "ì¶•ë³µë°›ì€ í”¼ë¶€ì…ë‹ˆë‹¤! í”¼ì§€ë§Œ ì˜ ê´€ë¦¬í•˜ë©´ ë‹¤ë¥¸ ê³ ë¯¼ì´ ê±°ì˜ ì—†ì–´ìš”. ë„ˆë¬´ ê³¼í•˜ê²Œ ê´€ë¦¬í•˜ì§€ ë§ê³  ì‹¬í”Œí•˜ê²Œ ìœ ì§€í•˜ì„¸ìš”.",
            care: "ë³µì¡í•œ ë£¨í‹´ í•„ìš” ì—†ì–´ìš”. í´ë Œì§•ê³¼ ê°€ë²¼ìš´ ë³´ìŠµë§Œ ì˜ í•˜ë©´ ë¼ìš”. í”¼ë¶€ê°€ ì¢‹ìœ¼ë‹ˆ ì˜¤íˆë ¤ ê³¼í•œ ê´€ë¦¬ê°€ ë…ì´ ë  ìˆ˜ ìˆì–´ìš”.",
            avoid: ["ê³¼ë„í•œ ë³´ìŠµ", "ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ì„± ì œí’ˆ"],
            ingredients: ["ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ", "íˆì•Œë£¨ë¡ ì‚°"],
            linkType: "OILY"
        },
        "ORPW": {
            koreanCode: "ì§€ì„± + íŠ¼íŠ¼ + ì¡í‹° + íƒ„ë ¥â†“",
            name: "ë…¸í™”ì„± ì¡í‹° í”¼ë¶€",
            simpleDesc: "ì•ˆí‹°ì—ì´ì§•ê³¼ ë¯¸ë°±ì„ ë™ì‹œì— í•´ì•¼ í•˜ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "í”¼ë¶€ëŠ” íŠ¼íŠ¼í•˜ì§€ë§Œ ë…¸í™”ì™€ ìƒ‰ì†Œì¹¨ì°©ì´ ì§„í–‰ë˜ê³  ìˆìŠµë‹ˆë‹¤. ê°•í•œ ì„±ë¶„ë„ ì˜ ë°›ì•„ë“¤ì´ë‹ˆ ì ê·¹ì ì¸ ì•ˆí‹°ì—ì´ì§• ì¼€ì–´ê°€ ê°€ëŠ¥í•´ìš”.",
            care: "ë ˆí‹°ë†€, ë¹„íƒ€ë¯¼C ë“± ê¸°ëŠ¥ì„± ì œí’ˆì„ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì„¸ìš”. í”¼ë¶€ê°€ ê°•í•˜ë‹ˆ ê³ ë†ë„ ì œí’ˆë„ ì‹œë„í•´ë³¼ ìˆ˜ ìˆì–´ìš”.",
            avoid: ["ìì™¸ì„  ë¬´ë°©ë¹„ ë…¸ì¶œ"],
            ingredients: ["ë ˆí‹°ë†€", "ë¹„íƒ€ë¯¼C", "í©íƒ€ì´ë“œ", "ì•Œë¶€í‹´"],
            linkType: "ANTI_AGING"
        },
        "ORNW": {
            koreanCode: "ì§€ì„± + íŠ¼íŠ¼ + ì¡í‹°Ã— + íƒ„ë ¥â†“",
            name: "íƒ„ë ¥ ì €í•˜ ì§€ì„± í”¼ë¶€",
            simpleDesc: "ì•ˆí‹°ì—ì´ì§•ì—ë§Œ ì§‘ì¤‘í•˜ë©´ ë˜ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "ìƒ‰ì†Œ ê³ ë¯¼ì€ ì—†ì§€ë§Œ íƒ„ë ¥ì´ ë–¨ì–´ì§€ê³  ìˆìŠµë‹ˆë‹¤. í”¼ë¶€ê°€ íŠ¼íŠ¼í•´ì„œ ê°•í•œ ì•ˆí‹°ì—ì´ì§• ì œí’ˆì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.",
            care: "ì•ˆí‹°ì—ì´ì§• ì œí’ˆ í•˜ë‚˜ë§Œ ì œëŒ€ë¡œ ì“°ì„¸ìš”. ë ˆí‹°ë†€ì´ë‚˜ í©íƒ€ì´ë“œ ì œí’ˆì„ ê¾¸ì¤€íˆ ì‚¬ìš©í•˜ë©´ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”.",
            avoid: ["íŠ¹ë³„íˆ ì—†ìŒ"],
            ingredients: ["ë ˆí‹°ë†€", "í©íƒ€ì´ë“œ", "ì½œë¼ê²", "ì•„ë°ë…¸ì‹ "],
            linkType: "ANTI_AGING"
        },
        "DSPT": {
            koreanCode: "ê±´ì„± + ë¯¼ê° + ì¡í‹° + íƒ„ë ¥â—",
            name: "ì˜ˆë¯¼í•œ ê±´ì¡° í”¼ë¶€",
            simpleDesc: "ë³´ìŠµê³¼ ì§„ì •ì´ ìµœìš°ì„ ì¸ í”¼ë¶€ì˜ˆìš”",
            desc: "ê±´ì¡°í•˜ê³  ì˜ˆë¯¼í•´ì„œ ì¡°ê¸ˆë§Œ ìê·¹ë°›ì•„ë„ ë¶‰ì–´ì§€ê±°ë‚˜ íŠ¸ëŸ¬ë¸”ì´ ìƒê¹ë‹ˆë‹¤. ìƒ‰ì†Œì¹¨ì°©ë„ ì˜ ë˜ëŠ” í¸ì´ì—ìš”. ì¥ë²½ ê°•í™”ê°€ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤.",
            care: "ì €ìê·¹ ê³ ë³´ìŠµ ì œí’ˆìœ¼ë¡œ í”¼ë¶€ ì¥ë²½ì„ ì„¸ì›Œì£¼ì„¸ìš”. ì¥ë²½ì´ íšŒë³µë˜ë©´ ë‹¤ë¥¸ ê³ ë¯¼ë„ ìì—°ìŠ¤ëŸ½ê²Œ ì¤„ì–´ë“­ë‹ˆë‹¤.",
            avoid: ["ì•Œì½”ì˜¬", "í–¥ë£Œ", "ìê·¹ ì„±ë¶„", "ê³¼ë„í•œ ê°ì§ˆì œê±°"],
            ingredients: ["ì„¸ë¼ë§ˆì´ë“œ", "íˆì•Œë£¨ë¡ ì‚°", "ì•Œë¡œì—", "íŒí…Œë†€"],
            linkType: "SENSITIVE"
        },
        "DSNT": {
            koreanCode: "ê±´ì„± + ë¯¼ê° + ì¡í‹°Ã— + íƒ„ë ¥â—",
            name: "ì¥ë²½ ì•½í™” ê±´ì„± í”¼ë¶€",
            simpleDesc: "í”¼ë¶€ ì¥ë²½ë§Œ ì„¸ìš°ë©´ ê±´ê°•í•´ì§€ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "í•œêµ­ ì—¬ì„±ì—ê²Œ ê°€ì¥ í”í•œ í”¼ë¶€ íƒ€ì…ì…ë‹ˆë‹¤. ê±´ì¡°í•˜ê³  ì˜ˆë¯¼í•˜ì§€ë§Œ, ìƒ‰ì†Œë‚˜ ì£¼ë¦„ ê³ ë¯¼ì€ ì ì–´ìš”. ë³´ìŠµê³¼ ì§„ì •ì—ë§Œ ì§‘ì¤‘í•˜ë©´ ë©ë‹ˆë‹¤.",
            care: "ìˆœí•œ ë³´ìŠµì œë¡œ ì¥ë²½ë§Œ ì„¸ì›Œì£¼ì„¸ìš”. ë³µì¡í•œ ë£¨í‹´ë³´ë‹¤ ê¸°ë³¸ì— ì¶©ì‹¤í•œ ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.",
            avoid: ["ìê·¹ ì„±ë¶„", "ê³¼ë„í•œ ê°ì§ˆì œê±°", "ê°•í•œ ì„¸ì•ˆ"],
            ingredients: ["ì„¸ë¼ë§ˆì´ë“œ", "íŒí…Œë†€", "ë§ˆë°ì¹´ì†Œì‚¬ì´ë“œ", "ìŠ¤ì¿ ì•Œë€"],
            linkType: "DRY"
        },
        "DSPW": {
            koreanCode: "ê±´ì„± + ë¯¼ê° + ì¡í‹° + íƒ„ë ¥â†“",
            name: "ì§‘ì¤‘ ê´€ë¦¬ í”¼ë¶€",
            simpleDesc: "ëª¨ë“  ì¼€ì–´ê°€ í•„ìš”í•˜ì§€ë§Œ íš¨ê³¼ë„ ë¹ ë¥¸ í”¼ë¶€ì˜ˆìš”",
            desc: "ê±´ì¡°í•¨ì´ ë…¸í™”ë¥¼ ê°€ì†í™”ì‹œí‚¤ê³ , ë¯¼ê°í•´ì„œ ì•„ë¬´ê±°ë‚˜ ì“°ê¸°ë„ ì–´ë ¤ìš´ ìƒíƒœì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì œëŒ€ë¡œ ê´€ë¦¬í•˜ë©´ ê°œì„  íš¨ê³¼ê°€ ê°€ì¥ ë¹ ë¥¸ íƒ€ì…ì´ê¸°ë„ í•´ìš”.",
            care: "ì¥ë²½ ê°•í™”ë¥¼ ë¨¼ì € í•˜ê³ , í”¼ë¶€ê°€ ì•ˆì •ë˜ë©´ ë‹¨ê³„ì ìœ¼ë¡œ ë¯¸ë°±ê³¼ ì•ˆí‹°ì—ì´ì§• ì œí’ˆì„ ì¶”ê°€í•˜ì„¸ìš”.",
            avoid: ["ìê·¹ ì„±ë¶„", "ê³ ë†ë„ ë ˆí‹°ë†€ ì´ˆê¸°ì‚¬ìš©", "ê°•í•œ í•„ë§"],
            ingredients: ["ì„¸ë¼ë§ˆì´ë“œ", "ì €ë†ë„ ë¹„íƒ€ë¯¼C", "í©íƒ€ì´ë“œ", "íˆì•Œë£¨ë¡ ì‚°"],
            linkType: "ANTI_AGING"
        },
        "DSNW": {
            koreanCode: "ê±´ì„± + ë¯¼ê° + ë¹„ìƒ‰ì†Œ + ì£¼ë¦„",
            name: "ê±´ì¡°ì„± ë…¸í™” í”¼ë¶€",
            simpleDesc: "ë³´ìŠµê³¼ ì•ˆí‹°ì—ì´ì§•ì„ ë™ì‹œì— í•´ì•¼ í•˜ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "ìˆ˜ë¶„ ë¶€ì¡±ìœ¼ë¡œ ì¸í•´ ì£¼ë¦„ì´ ìê¸€ìê¸€í•´ì§‘ë‹ˆë‹¤. ë¯¼ê°í•´ì„œ ê°•í•œ ì œí’ˆì€ ì“°ê¸° ì–´ë ¤ì›Œìš”.",
            care: "ìˆ˜ë¶„ê³¼ ìœ ë¶„ì„ ë™ì‹œì— ì±„ì›Œì£¼ì„¸ìš”. ì €ìê·¹ ë ˆí‹°ë†€ì´ë‚˜ í©íƒ€ì´ë“œ ì œí’ˆì„ ìˆœí•˜ê²Œ ì‹œì‘í•˜ì„¸ìš”.",
            avoid: ["ìê·¹ì  ë ˆí‹°ë†€", "ì•Œì½”ì˜¬ í† ë„ˆ"],
            ingredients: ["ì €ìê·¹ ë ˆí‹°ë†€", "í©íƒ€ì´ë“œ", "ìŠ¤ì¿ ì•Œë€", "ì‹œì–´ë²„í„°"],
            linkType: "ANTI_AGING"
        },
        "DRPT": {
            koreanCode: "ê±´ì„± + íŠ¼íŠ¼ + ì¡í‹° + íƒ„ë ¥â—",
            name: "ì¡í‹° ê³ ë¯¼ ê±´ì„± í”¼ë¶€",
            simpleDesc: "ë³´ìŠµê³¼ ë¯¸ë°±ì— ì§‘ì¤‘í•˜ë©´ ë˜ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "ê±´ì¡°í•˜ì§€ë§Œ í”¼ë¶€ ìì²´ëŠ” íŠ¼íŠ¼í•©ë‹ˆë‹¤. ìƒ‰ì†Œì¹¨ì°©ë§Œ ê´€ë¦¬í•˜ë©´ ë˜ëŠ” ë¹„êµì  ì¼€ì–´í•˜ê¸° ì‰¬ìš´ íƒ€ì…ì´ì—ìš”.",
            care: "ë³´ìŠµê³¼ ë¯¸ë°±ì„ ë³‘í–‰í•˜ì„¸ìš”. í”¼ë¶€ê°€ ê°•í•´ì„œ ë¹„íƒ€ë¯¼Cë‚˜ ë¯¸ë°± ì•°í”Œì„ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
            avoid: ["ì§€ì„±ìš© ì œí’ˆ"],
            ingredients: ["ë¹„íƒ€ë¯¼C", "ì•Œë¶€í‹´", "ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ", "íˆì•Œë£¨ë¡ ì‚°"],
            linkType: "DRY"
        },
        "DRNT": {
            koreanCode: "ê±´ì„± + íŠ¼íŠ¼ + ì¡í‹°Ã— + íƒ„ë ¥â—",
            name: "ì›Œë„ˆë¹„ ê±´ì„± í”¼ë¶€",
            simpleDesc: "ê±´ì¡°í•¨ë§Œ í•´ê²°í•˜ë©´ ì™„ë²½í•œ í”¼ë¶€ì˜ˆìš”",
            desc: "í”¼ë¶€ ê³ ë¯¼ì´ ê°€ì¥ ì ì€ íƒ€ì…ì…ë‹ˆë‹¤! ê±´ì¡°í•¨ë§Œ ì¡ìœ¼ë©´ ë‹¤ë¥¸ ê³ ë¯¼ì€ ê±°ì˜ ì—†ì–´ìš”. ì¢‹ì€ ë³´ìŠµì œ í•˜ë‚˜ë§Œ ì˜ ì“°ì„¸ìš”.",
            care: "ì‹¬í”Œí•˜ê³  ë¦¬ì¹˜í•œ ë³´ìŠµ ë£¨í‹´ì´ ì „ë¶€ì…ë‹ˆë‹¤. ë³µì¡í•œ ì œí’ˆì„ ì“¸ í•„ìš”ê°€ ì—†ì–´ìš”.",
            avoid: ["ì§€ì„±ìš© ì œí’ˆ", "ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ì„± ì œí’ˆ"],
            ingredients: ["íˆì•Œë£¨ë¡ ì‚°", "í˜¸í˜¸ë°”ì˜¤ì¼", "ì‹œì–´ë²„í„°", "ì„¸ë¼ë§ˆì´ë“œ"],
            linkType: "DRY"
        },
        "DRPW": {
            koreanCode: "ê±´ì„± + íŠ¼íŠ¼ + ì¡í‹° + íƒ„ë ¥â†“",
            name: "ê´‘ë…¸í™” í”¼ë¶€",
            simpleDesc: "ìì™¸ì„  ë°ë¯¸ì§€ ë³µêµ¬ê°€ í•µì‹¬ì¸ í”¼ë¶€ì˜ˆìš”",
            desc: "ìì™¸ì„ ì— ì˜í•œ ë…¸í™”(ê´‘ë…¸í™”)ê°€ ì§„í–‰ëœ ìƒíƒœì…ë‹ˆë‹¤. ìƒ‰ì†Œì¹¨ì°©ê³¼ ì£¼ë¦„ì´ í•¨ê»˜ ë‚˜íƒ€ë‚˜ìš”. í”¼ë¶€ê°€ íŠ¼íŠ¼í•´ì„œ ì ê·¹ì ì¸ ì¼€ì–´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
            care: "ì„ í¬ë¦¼ í•„ìˆ˜! ë¹„íƒ€ë¯¼Cì™€ ë ˆí‹°ë†€ë¡œ ì ê·¹ì ì¸ ì•ˆí‹°ì—ì´ì§•ê³¼ ë¯¸ë°± ì¼€ì–´ë¥¼ í•˜ì„¸ìš”.",
            avoid: ["ìì™¸ì„  ë¬´ë°©ë¹„ ë…¸ì¶œ"],
            ingredients: ["ë¹„íƒ€ë¯¼C", "ë ˆí‹°ë†€", "í©íƒ€ì´ë“œ", "ì„ í¬ë¦¼(í•„ìˆ˜)"],
            linkType: "ANTI_AGING"
        },
        "DRNW": {
            koreanCode: "ê±´ì„± + íŠ¼íŠ¼ + ì¡í‹°Ã— + íƒ„ë ¥â†“",
            name: "ì˜ì–‘ ë¶€ì¡± ê±´ì„± í”¼ë¶€",
            simpleDesc: "ì˜ì–‘ ê³µê¸‰ì— ì§‘ì¤‘í•´ì•¼ í•˜ëŠ” í”¼ë¶€ì˜ˆìš”",
            desc: "ê±´ì¡°í•´ì„œ íƒ„ë ¥ì„ ìƒì–´ê°€ê³  ìˆìŠµë‹ˆë‹¤. ìƒ‰ì†Œ ê³ ë¯¼ì€ ì—†ê³  í”¼ë¶€ë„ íŠ¼íŠ¼í•˜ë‹ˆ, ì˜ì–‘ê° ìˆëŠ” ì•ˆí‹°ì—ì´ì§• ì œí’ˆì„ ì“°ë©´ ì¢‹ì•„ì§ˆ ìˆ˜ ìˆì–´ìš”.",
            care: "ë¦¬ì¹˜í•œ ì˜ì–‘ í¬ë¦¼ê³¼ ì˜¤ì¼ ì„¸ëŸ¼ì„ ì‚¬ìš©í•˜ì„¸ìš”. ë ˆí‹°ë†€ì´ë‚˜ í©íƒ€ì´ë“œë„ ì˜ ë°›ì•„ë“¤ì…ë‹ˆë‹¤.",
            avoid: ["ê°€ë²¼ìš´ ìˆ˜ë¶„ ì œí’ˆë§Œ ì‚¬ìš©"],
            ingredients: ["ë ˆí‹°ë†€", "í©íƒ€ì´ë“œ", "ì˜¤ì¼ ì„¸ëŸ¼", "ì˜ì–‘ í¬ë¦¼"],
            linkType: "ANTI_AGING"
        }
    };

    // ìŠ¤í† ì–´ ë§í¬
    const links = {
        "ACNE": "https://smartstore.naver.com/inspirationplus/category/0e8853bfba8a4306ba8510b16fee430a?cp=1",
        "OILY": "https://smartstore.naver.com/inspirationplus/category/42bab2f6a2474194826e5c43d49f7047?cp=1",
        "DRY": "https://smartstore.naver.com/inspirationplus/category/39736c80e1dd48099a870939752c30f1?cp=1",
        "SENSITIVE": "https://smartstore.naver.com/inspirationplus/products/11201133444",
        "ANTI_AGING": "https://smartstore.naver.com/inspirationplus/products/11226243461"
    };

    // ì§€í‘œ ì„¤ëª… ë°ì´í„°
    const metricInfo = {
        oil: { name: "ìœ ë¶„", high: "ë§ìŒ", medium: "ë³´í†µ", low: "ë¶€ì¡±", 
               highTip: "í”¼ì§€ ì¡°ì ˆ ì„±ë¶„(ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ, BHA)ì„ ì‚¬ìš©í•˜ì„¸ìš”",
               mediumTip: "í˜„ì¬ ìœ ë¶„ ë°¸ëŸ°ìŠ¤ê°€ ì¢‹ìŠµë‹ˆë‹¤. ìœ ì§€í•˜ì„¸ìš”",
               lowTip: "ìœ ë¶„ ê³µê¸‰ ì œí’ˆ(ì˜¤ì¼, ë°¤)ì„ ì¶”ê°€í•˜ì„¸ìš”" },
        hydration: { name: "ìˆ˜ë¶„", high: "ì¶©ë¶„", medium: "ë³´í†µ", low: "ë¶€ì¡±",
                     highTip: "ìˆ˜ë¶„ ë°¸ëŸ°ìŠ¤ê°€ ì¢‹ìŠµë‹ˆë‹¤. ìœ ì§€í•˜ì„¸ìš”",
                     mediumTip: "íˆì•Œë£¨ë¡ ì‚° ì œí’ˆìœ¼ë¡œ ìˆ˜ë¶„ì„ ë³´ì¶©í•˜ì„¸ìš”",
                     lowTip: "ê³ ë³´ìŠµ ì„¸ëŸ¼ê³¼ í¬ë¦¼ì´ í•„ìˆ˜ì…ë‹ˆë‹¤" },
        sensitive: { name: "ë¯¼ê°ë„", high: "ë§¤ìš° ë¯¼ê°", medium: "ë‹¤ì†Œ ë¯¼ê°", low: "íŠ¼íŠ¼í•¨",
                     highTip: "ì €ìê·¹ ì œí’ˆ ìœ„ì£¼ë¡œ, ì§„ì • ì„±ë¶„ì„ ì‚¬ìš©í•˜ì„¸ìš”",
                     mediumTip: "ìƒˆ ì œí’ˆì€ íŒ¨ì¹˜í…ŒìŠ¤íŠ¸ í›„ ì‚¬ìš©í•˜ì„¸ìš”",
                     lowTip: "í”¼ë¶€ê°€ íŠ¼íŠ¼í•´ì„œ ë‹¤ì–‘í•œ ì œí’ˆì„ ì‹œë„í•  ìˆ˜ ìˆì–´ìš”" },
        pigment: { name: "ìƒ‰ì†Œì¹¨ì°©", high: "ì¹¨ì°© ì˜ë¨", medium: "ë³´í†µ", low: "ì¹¨ì°© ì•ˆë¨",
                   highTip: "ìì™¸ì„  ì°¨ë‹¨ í•„ìˆ˜, ë¯¸ë°± ì„±ë¶„ì„ ê¾¸ì¤€íˆ ì‚¬ìš©í•˜ì„¸ìš”",
                   mediumTip: "ìì™¸ì„  ì°¨ë‹¨ë§Œ ì˜ í•´ë„ ê´€ë¦¬ë©ë‹ˆë‹¤",
                   lowTip: "ìƒ‰ì†Œ ê³ ë¯¼ì´ ì ìŠµë‹ˆë‹¤. í˜„ì¬ ê´€ë¦¬ë¥¼ ìœ ì§€í•˜ì„¸ìš”" },
        elastic: { name: "íƒ„ë ¥ë„", high: "íƒ„ë ¥ ì¢‹ìŒ", medium: "ë³´í†µ", low: "íƒ„ë ¥ ì €í•˜",
                   highTip: "íƒ„ë ¥ì´ ì¢‹ìŠµë‹ˆë‹¤. í˜„ì¬ ìƒíƒœë¥¼ ìœ ì§€í•˜ì„¸ìš”",
                   mediumTip: "í©íƒ€ì´ë“œ ì œí’ˆìœ¼ë¡œ ì˜ˆë°©ì  ê´€ë¦¬ë¥¼ ì‹œì‘í•˜ì„¸ìš”",
                   lowTip: "ë ˆí‹°ë†€, í©íƒ€ì´ë“œë¡œ ì ê·¹ì ì¸ íƒ„ë ¥ ì¼€ì–´ê°€ í•„ìš”í•©ë‹ˆë‹¤" },
        barrier: { name: "ì¥ë²½ê±´ê°•", high: "ì¥ë²½ íŠ¼íŠ¼", medium: "ë‹¤ì†Œ ì•½í•¨", low: "ì¥ë²½ ì†ìƒ",
                   highTip: "ì¥ë²½ì´ ê±´ê°•í•©ë‹ˆë‹¤. ê³¼í•œ ê´€ë¦¬ëŠ” í”¼í•˜ì„¸ìš”",
                   mediumTip: "ì„¸ë¼ë§ˆì´ë“œë¡œ ì¥ë²½ì„ ê°•í™”í•˜ì„¸ìš”",
                   lowTip: "ì¥ë²½ íšŒë³µì´ ìµœìš°ì„ ì…ë‹ˆë‹¤. ìê·¹ì„ ìµœì†Œí™”í•˜ì„¸ìš”" }
    };

    // =============================================
    // [ë¡œì§]
    // =============================================
    
    let currentQ = 0;
    let scores = { step1: 0, step2: 0, step3: 0, step4: 0 };
    let rawScores = { oil: 0, sensitive: 0, pigment: 0, wrinkle: 0 };

    function startDiagnosis() {
        document.getElementById('introScreen').classList.remove('active');
        document.getElementById('quizScreen').classList.add('active');
        showQuestion();
    }

    function showQuestion() {
        const progress = ((currentQ) / questions.length) * 100;
        document.getElementById('progressBar').style.width = `${progress}%`;

        let currentStepIdx = 0;
        let qCount = 0;
        for(let i = 0; i < steps.length; i++) {
            qCount += steps[i].count;
            if(currentQ < qCount) {
                currentStepIdx = i;
                break;
            }
        }

        document.getElementById('stepBadge').innerText = steps[currentStepIdx].name;
        document.getElementById('questionNumber').innerText = `Q${currentQ + 1} / ${questions.length}`;

        const qData = questions[currentQ];
        document.getElementById('questionText').innerText = qData.q;
        
        const optsDiv = document.getElementById('optionsArea');
        optsDiv.innerHTML = "";
        qData.a.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt.t;
            btn.onclick = () => nextQuestion(opt.s, currentStepIdx);
            optsDiv.appendChild(btn);
        });
    }

    function nextQuestion(score, stepIdx) {
        if(stepIdx === 0) { scores.step1 += score; rawScores.oil += score; }
        else if(stepIdx === 1) { scores.step2 += score; rawScores.sensitive += score; }
        else if(stepIdx === 2) { scores.step3 += score; rawScores.pigment += score; }
        else if(stepIdx === 3) { scores.step4 += score; rawScores.wrinkle += score; }

        currentQ++;
        if(currentQ < questions.length) {
            showQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quizScreen').classList.remove('active');
        document.getElementById('resultScreen').classList.add('active');
        document.getElementById('progressBar').style.width = '100%';

        const type1 = scores.step1 >= 18 ? 'O' : 'D';
        const type2 = scores.step2 >= 20 ? 'S' : 'R';
        const type3 = scores.step3 >= 14 ? 'P' : 'N';
        const type4 = scores.step4 >= 14 ? 'W' : 'T';
        
        const finalType = type1 + type2 + type3 + type4;
        const result = resultData[finalType];

        document.getElementById('resultCode').innerText = finalType;
        document.getElementById('resultKorean').innerText = result.koreanCode;
        document.getElementById('resultName').innerText = `"${result.name}"`;
        document.getElementById('resultSimpleDesc').innerText = result.simpleDesc;
        document.getElementById('resultDesc').innerText = result.desc;
        document.getElementById('resultCare').innerText = result.care;

        const avoidDiv = document.getElementById('avoidTags');
        avoidDiv.innerHTML = result.avoid.map(a => `<span class="avoid-tag">${a}</span>`).join('');

        const ingredientDiv = document.getElementById('ingredientTags');
        ingredientDiv.innerHTML = result.ingredients.map(i => `<span class="ingredient-tag">${i}</span>`).join('');

        document.getElementById('shopLink').href = links[result.linkType];

        drawRadarChart(finalType);
        createMetricCards(finalType);
    }

    function drawRadarChart(type) {
        const svg = document.getElementById('radarChart');
        const centerX = 150, centerY = 130, radius = 90;

        const maxScores = { oil: 24, hydration: 24, sensitive: 32, pigment: 20, elastic: 20, barrier: 32 };
        
        const oilScore = (rawScores.oil / maxScores.oil) * 100;
        const hydrationScore = 100 - oilScore; 
        const sensitiveScore = (rawScores.sensitive / maxScores.sensitive) * 100;
        const pigmentScore = (rawScores.pigment / maxScores.pigment) * 100;
        const elasticScore = 100 - ((rawScores.wrinkle / maxScores.elastic) * 100);
        const barrierScore = 100 - sensitiveScore; 

        const chartScores = [oilScore, hydrationScore, sensitiveScore, pigmentScore, elasticScore, barrierScore];
        const labels = ['ìœ ë¶„', 'ìˆ˜ë¶„', 'ë¯¼ê°', 'ìƒ‰ì†Œ', 'íƒ„ë ¥', 'ì¥ë²½'];
        const colors = ['#FFB74D', '#4FC3F7', '#F48FB1', '#BA68C8', '#81C784', '#90A4AE'];

        let svgContent = '';

        for(let level = 1; level <= 4; level++) {
            const r = radius * (level / 4);
            let points = [];
            for(let i = 0; i < 6; i++) {
                const angle = (Math.PI / 3) * i - Math.PI / 2;
                const x = centerX + r * Math.cos(angle);
                const y = centerY + r * Math.sin(angle);
                points.push(`${x},${y}`);
            }
            svgContent += `<polygon points="${points.join(' ')}" fill="none" stroke="#ddd" stroke-width="1"/>`;
        }

        for(let i = 0; i < 6; i++) {
            const angle = (Math.PI / 3) * i - Math.PI / 2;
            const x = centerX + radius * Math.cos(angle);
            const y = centerY + radius * Math.sin(angle);
            svgContent += `<line x1="${centerX}" y1="${centerY}" x2="${x}" y2="${y}" stroke="#ddd" stroke-width="1"/>`;
        }

        let dataPoints = [];
        for(let i = 0; i < 6; i++) {
            const angle = (Math.PI / 3) * i - Math.PI / 2;
            const r = radius * (chartScores[i] / 100);
            const x = centerX + r * Math.cos(angle);
            const y = centerY + r * Math.sin(angle);
            dataPoints.push(`${x},${y}`);
        }
        svgContent += `<polygon points="${dataPoints.join(' ')}" fill="rgba(212, 175, 55, 0.3)" stroke="#D4AF37" stroke-width="2"/>`;

        for(let i = 0; i < 6; i++) {
            const angle = (Math.PI / 3) * i - Math.PI / 2;
            const r = radius * (chartScores[i] / 100);
            const x = centerX + r * Math.cos(angle);
            const y = centerY + r * Math.sin(angle);
            svgContent += `<circle cx="${x}" cy="${y}" r="5" fill="${colors[i]}" stroke="#fff" stroke-width="2"/>`;
        }

        for(let i = 0; i < 6; i++) {
            const angle = (Math.PI / 3) * i - Math.PI / 2;
            const x = centerX + (radius + 25) * Math.cos(angle);
            const y = centerY + (radius + 25) * Math.sin(angle);
            svgContent += `<text x="${x}" y="${y}" text-anchor="middle" dominant-baseline="middle" font-size="12" font-weight="600" fill="#333">${labels[i]}</text>`;
        }

        svg.innerHTML = svgContent;

        window.chartScores = {
            oil: oilScore,
            hydration: hydrationScore,
            sensitive: sensitiveScore,
            pigment: pigmentScore,
            elastic: elasticScore,
            barrier: barrierScore
        };
    }

    function createMetricCards(type) {
        const grid = document.getElementById('metricsGrid');
        const scores = window.chartScores;
        
        const metrics = [
            { key: 'oil', score: scores.oil },
            { key: 'hydration', score: scores.hydration },
            { key: 'sensitive', score: scores.sensitive },
            { key: 'pigment', score: scores.pigment },
            { key: 'elastic', score: scores.elastic },
            { key: 'barrier', score: scores.barrier }
        ];

        let html = '';
        metrics.forEach(m => {
            const info = metricInfo[m.key];
            let status, statusClass, tip;
            
            if(m.key === 'oil' || m.key === 'sensitive' || m.key === 'pigment') {
                if(m.score >= 70) { status = info.high; statusClass = 'high'; tip = info.highTip; }
                else if(m.score >= 40) { status = info.medium; statusClass = 'medium'; tip = info.mediumTip; }
                else { status = info.low; statusClass = 'low'; tip = info.lowTip; }
            } else {
                if(m.score >= 70) { status = info.high; statusClass = 'good'; tip = info.highTip; }
                else if(m.score >= 40) { status = info.medium; statusClass = 'medium'; tip = info.mediumTip; }
                else { status = info.low; statusClass = 'high'; tip = info.lowTip; }
            }

            html += `
                <div class="metric-card ${m.key}">
                    <div class="metric-name">${info.name}</div>
                    <div class="metric-score">${Math.round(m.score)}ì </div>
                    <span class="metric-status ${statusClass}">${status}</span>
                    <div class="metric-tip">${tip}</div>
                </div>
            `;
        });

        grid.innerHTML = html;
    }

    // [ê¸°ëŠ¥ 1] ìˆ˜ì •ëœ í…ìŠ¤íŠ¸ ìƒì„¸ ë³µì‚¬ ê¸°ëŠ¥
    function copyResultDetails() {
        const code = document.getElementById('resultCode').innerText;
        const name = document.getElementById('resultName').innerText;
        const desc = document.getElementById('resultDesc').innerText;
        const care = document.getElementById('resultCare').innerText;
        
        // 1. ì œí’ˆ ë§í¬ (ë²„íŠ¼ì—ì„œ ê°€ì ¸ì˜¤ê¸°)
        const productLink = document.getElementById('shopLink').href;
        
        // 2. ì§„ë‹¨ í˜ì´ì§€ ë§í¬ (í˜„ì¬ URL)
        const diagnosisLink = window.location.href;

        const text = `[í•˜ì–€ê´‘ë¶€ í”¼ë¶€ ê°±ë„ ì§„ë‹¨ ê²°ê³¼]
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”¬ íƒ€ì…: ${code}
ğŸ‘¤ ë³„ëª…: ${name}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š ë¶„ì„:
${desc}

ğŸ’Š ì²˜ë°©:
${care}

ğŸ‘‰ ë‚´ í”¼ë¶€ ì „ìš© ì œí’ˆ ë³´ê¸°:
${productLink}

ğŸ” ë‚´ í”¼ë¶€ íƒ€ì… ì§„ë‹¨í•˜ê¸°:
${diagnosisLink}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
*í•˜ì–€ê´‘ë¶€ì™€ í•¨ê»˜ í”¼ë¶€ ê¸ˆë§¥ì„ ì°¾ì•„ë³´ì„¸ìš”!*`;
        
        navigator.clipboard.writeText(text).then(() => {
            alert('ìƒì„¸ ì§„ë‹¨ ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! \nì¹´ì¹´ì˜¤í†¡ì´ë‚˜ ë©”ëª¨ì¥ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.');
        }).catch(err => {
            alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        });
    }

    // [ê¸°ëŠ¥ 2] ì´ë¯¸ì§€ ì €ì¥ ê¸°ëŠ¥
    function saveAsImage() {
        // ìº¡ì²˜ ì˜ì—­ ì„ íƒ
        const captureElement = document.getElementById('captureArea');
        
        // ì‚¬ìš©ìì—ê²Œ ì•ˆë‚´
        const originalText = document.querySelector('.save-img-btn').innerText;
        document.querySelector('.save-img-btn').innerText = "ğŸ“¸ ì´ë¯¸ì§€ ìƒì„± ì¤‘...";

        html2canvas(captureElement, { scale: 2, backgroundColor: "#FFFFFF" }).then(canvas => {
            const link = document.createElement('a');
            link.download = 'í•˜ì–€ê´‘ë¶€_í”¼ë¶€ì§„ë‹¨_' + document.getElementById('resultCode').innerText + '.png';
            link.href = canvas.toDataURL();
            link.click();
            
            document.querySelector('.save-img-btn').innerText = originalText;
            alert("ì´ë¯¸ì§€ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
        }).catch(err => {
            alert("ì´ë¯¸ì§€ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
            document.querySelector('.save-img-btn').innerText = originalText;
        });
    }
</script>

</body>
</html>